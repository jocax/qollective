# Constraint Enforcer MCP Server Configuration
# All values can be overridden by environment variables with CONSTRAINT_ENFORCER_ prefix
# Example: CONSTRAINT_ENFORCER_NATS_URL=nats://production:4222

[service]
name = "constraint-enforcer"
version = "0.1.0"
description = "TaleTrail Constraint Enforcer MCP Server - Enforces vocabulary and theme constraints"

[nats]
url = "nats://localhost:5222"
subject = "mcp.constraint.enforce"
queue_group = "constraint-enforcer"

[nats.auth]
# NKey authentication (replaces mTLS client certificates)
nkey_file = "./nkeys/constraint-enforcer.nk"

[nats.tls]
# TLS for encryption (no client cert needed with NKey auth)
ca_cert = "./certs/ca.pem"

[constraints]
vocabulary_check_enabled = true
theme_consistency_enabled = true
required_elements_check_enabled = true
vocabulary_levels = ["basic", "intermediate", "advanced"]

# English vocabulary lists organized by complexity level
[vocabulary.english.basic]
words = [
    "the", "and", "run", "play", "friend", "happy", "cat", "dog",
    "sun", "moon", "star", "tree", "house", "water", "food", "big",
    "small", "red", "blue", "green", "fast", "slow", "up", "down"
]

[vocabulary.english.intermediate]
words = [
    "adventure", "explore", "discover", "investigate", "journey",
    "treasure", "mystery", "island", "ocean", "forest", "mountain",
    "creature", "ancient", "hidden", "secret", "challenge", "quest",
    "brave", "courage", "danger", "rescue", "protect", "wisdom"
]

[vocabulary.english.advanced]
words = [
    "phenomenon", "consequence", "investigate", "comprehend", "perception",
    "expedition", "hypothesis", "observation", "biodiversity", "ecosystem",
    "fascinating", "extraordinary", "magnificent", "peculiar", "remarkable",
    "intricate", "elaborate", "sophisticated", "illuminate", "unveil"
]

# German vocabulary lists organized by complexity level
[vocabulary.german.basic]
words = [
    "der", "und", "laufen", "spielen", "Freund", "glücklich",
    "Katze", "Hund", "Sonne", "Mond", "Stern", "Baum", "Haus",
    "Wasser", "Essen", "groß", "klein", "rot", "blau", "grün"
]

[vocabulary.german.intermediate]
words = [
    "Abenteuer", "erforschen", "entdecken", "untersuchen",
    "Reise", "Schatz", "Geheimnis", "Insel", "Ozean", "Wald",
    "Berg", "Kreatur", "alt", "versteckt", "geheim", "Herausforderung",
    "Quest", "mutig", "Mut", "Gefahr", "Rettung", "schützen"
]

[vocabulary.german.advanced]
words = [
    "Phänomen", "Konsequenz", "untersuchen", "begreifen", "Wahrnehmung",
    "Expedition", "Hypothese", "Beobachtung", "Biodiversität", "Ökosystem",
    "faszinierend", "außergewöhnlich", "großartig", "eigenartig",
    "bemerkenswert", "kompliziert", "aufwendig", "ausgeklügelt"
]

# Theme consistency configuration
[themes]
min_consistency_score = 0.6

[themes.keywords.ocean]
keywords = ["ocean", "water", "sea", "wave", "fish", "coral", "dive", "submarine", "whale", "dolphin", "beach", "tide", "current", "deep", "reef"]

[themes.keywords.space]
keywords = ["space", "star", "planet", "rocket", "astronaut", "galaxy", "nebula", "comet", "asteroid", "orbit", "cosmos", "universe", "satellite", "moon", "mars"]

[themes.keywords.forest]
keywords = ["forest", "tree", "wood", "leaf", "animal", "deer", "bird", "mushroom", "stream", "clearing", "canopy", "wildlife", "nature", "hiking", "trail"]

[themes.keywords.adventure]
keywords = ["adventure", "explore", "journey", "quest", "discover", "treasure", "map", "expedition", "challenge", "mystery", "search", "find", "brave", "hero", "courage"]

[themes.keywords.science]
keywords = ["science", "experiment", "laboratory", "research", "discovery", "hypothesis", "theory", "observation", "analysis", "data", "evidence", "test", "investigate", "study", "learn"]

[themes.keywords.friendship]
keywords = ["friend", "friendship", "together", "help", "share", "care", "trust", "team", "cooperation", "kindness", "support", "companion", "loyal", "bond", "unity"]

# Required elements for different story types
[required_elements]
moral_keywords = ["learn", "lesson", "moral", "teach", "value", "friendship", "honesty", "kindness", "courage", "respect", "responsibility", "empathy", "trust", "fairness", "compassion"]
science_keywords = ["fact", "science", "discover", "research", "study", "experiment", "observe", "investigate", "analyze", "evidence", "hypothesis", "theory", "knowledge", "understanding", "explanation"]
educational_keywords = ["education", "knowledge", "understand", "explain", "learn", "teaching", "concept", "idea", "skill", "practice", "information", "explore", "question", "answer", "reason"]
