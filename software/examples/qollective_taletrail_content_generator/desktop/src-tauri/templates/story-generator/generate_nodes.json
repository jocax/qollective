{
	"tool_name": "generate_nodes",
	"arguments": {
		"dag": {
			"nodes": {
				"0": {
					"id": "0",
					"incoming_edges": 0,
					"outgoing_edges": 3,
					"content": {
						"type": "interactive_story_node",
						"node_id": "0",
						"text": "",
						"choices": [],
						"convergence_point": false,
						"next_nodes": []
					}
				},
				"1": {
					"id": "1",
					"incoming_edges": 1,
					"outgoing_edges": 2,
					"content": {
						"type": "interactive_story_node",
						"node_id": "1",
						"text": "",
						"choices": [],
						"convergence_point": false,
						"next_nodes": []
					}
				},
				"2": {
					"id": "2",
					"incoming_edges": 2,
					"outgoing_edges": 2,
					"content": {
						"type": "interactive_story_node",
						"node_id": "2",
						"text": "",
						"choices": [],
						"convergence_point": false,
						"next_nodes": []
					}
				},
				"3": {
					"id": "3",
					"incoming_edges": 1,
					"outgoing_edges": 2,
					"content": {
						"type": "interactive_story_node",
						"node_id": "3",
						"text": "",
						"choices": [],
						"convergence_point": false,
						"next_nodes": []
					}
				},
				"4": {
					"id": "4",
					"incoming_edges": 4,
					"outgoing_edges": 1,
					"content": {
						"type": "interactive_story_node",
						"node_id": "4",
						"text": "",
						"choices": [],
						"convergence_point": true,
						"next_nodes": []
					}
				},
				"5": {
					"id": "5",
					"incoming_edges": 2,
					"outgoing_edges": 1,
					"content": {
						"type": "interactive_story_node",
						"node_id": "5",
						"text": "",
						"choices": [],
						"convergence_point": false,
						"next_nodes": []
					}
				},
				"6": {
					"id": "6",
					"incoming_edges": 1,
					"outgoing_edges": 1,
					"content": {
						"type": "interactive_story_node",
						"node_id": "6",
						"text": "",
						"choices": [],
						"convergence_point": false,
						"next_nodes": []
					}
				},
				"7": {
					"id": "7",
					"incoming_edges": 1,
					"outgoing_edges": 0,
					"content": {
						"type": "interactive_story_node",
						"node_id": "7",
						"text": "",
						"choices": [],
						"convergence_point": false,
						"next_nodes": []
					}
				}
			},
			"edges": [
				{
					"from_node_id": "0",
					"to_node_id": "1",
					"choice_id": "choice_0_linear"
				},
				{
					"from_node_id": "1",
					"to_node_id": "2",
					"choice_id": "choice_1_linear"
				},
				{
					"from_node_id": "2",
					"to_node_id": "3",
					"choice_id": "choice_2_linear"
				},
				{
					"from_node_id": "3",
					"to_node_id": "4",
					"choice_id": "choice_3_linear"
				},
				{
					"from_node_id": "4",
					"to_node_id": "5",
					"choice_id": "choice_4_linear"
				},
				{
					"from_node_id": "5",
					"to_node_id": "6",
					"choice_id": "choice_5_linear"
				},
				{
					"from_node_id": "6",
					"to_node_id": "7",
					"choice_id": "choice_6_linear"
				},
				{
					"from_node_id": "0",
					"to_node_id": "4",
					"choice_id": "choice_0_to_convergence_4"
				},
				{
					"from_node_id": "0",
					"to_node_id": "2",
					"choice_id": "choice_0_branch"
				},
				{
					"from_node_id": "1",
					"to_node_id": "4",
					"choice_id": "choice_1_to_convergence_4"
				},
				{
					"from_node_id": "2",
					"to_node_id": "4",
					"choice_id": "choice_2_to_convergence_4"
				},
				{
					"from_node_id": "3",
					"to_node_id": "5",
					"choice_id": "choice_3_branch"
				}
			],
			"start_node_id": "0",
			"convergence_points": ["4"]
		},
		"node_ids": ["0", "1", "2"],
		"generation_request": {
			"theme": "Space Adventure",
			"age_group": "6-8",
			"language": "en",
			"node_count": 8,
			"tenant_id": 1,
			"educational_goals": [
				"Problem solving",
				"Basic astronomy",
				"Teamwork"
			],
			"vocabulary_level": "basic",
			"required_elements": [
				"Moral lesson",
				"Educational content"
			],
			"prompt_packages": {
				"story_generator": {
					"system_prompt": "You are a creative storyteller for children aged 6-8 years old. Your role is to create engaging, age-appropriate interactive stories that teach valuable lessons while entertaining. Keep vocabulary simple, use short sentences, and ensure content is safe and educational. Each story node should be approximately 150-200 words with clear, simple choices that children can understand.",
					"user_prompt": "Generate an interactive story node about '{theme}' for children aged 6-8. Educational goals: {educational_goals}. Previous content: {previous_content}. Choices made so far: {choices_made}. Current node position: {node_position} of {total_nodes}. Create an engaging narrative with exactly 3 clear choices that children can understand.",
					"llm_config": {
						"temperature": 0.7,
						"max_tokens": 2000,
						"top_p": 0.9,
						"frequency_penalty": 0.0,
						"presence_penalty": 0.0,
						"stop_sequences": []
					},
					"llm_model": "meta-llama-3-8b-instruct",
					"language": "en",
					"prompt_metadata": {
						"generated_at": "2025-10-08T00:00:00Z",
						"template_version": "v1.0.0",
						"generation_method": "TemplateFallback",
						"age_group_context": "6-8",
						"language_context": "en",
						"service_target": "story_generator",
						"theme_context": "Space Adventure"
					},
					"fallback_used": false
				}
			}
		}
	}
}
