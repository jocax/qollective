# TaleTrail Desktop Application - Environment Variables
# Copy this file to .env and customize for your deployment.
#
# This file demonstrates environment variable overrides for config.toml settings.
# All settings in config.toml can be overridden via environment variables.

# ============================================================================
# NATS Configuration
# ============================================================================

# NATS server URL
# Default: nats://localhost:5222
#TALETRAIL_NATS_URL=nats://localhost:5222

# Connection timeout in milliseconds
# Default: 5000
#TALETRAIL_NATS_TIMEOUT_MS=5000

# Request timeout in milliseconds (3 minutes for long-running content generation)
# Default: 180000
#TALETRAIL_NATS_REQUEST_TIMEOUT_MS=180000

# Enable TLS for NATS connection
# Default: true
#TALETRAIL_NATS_TLS_ENABLED=true

# ============================================================================
# TLS/Certificate Configuration
# ============================================================================

# Path to certificates directory
# Development: relative to project root (qollective_taletrail_content_generator/)
# Production: absolute path (e.g., /etc/taletrail/certs) or relative to executable
# Default: certs
#TALETRAIL_CERTS_DIR=certs

# CA certificate filename
# Default: ca.pem
#TALETRAIL_CA_CERT_FILE=ca.pem

# NKeys directory path
# Default: nkeys
#TALETRAIL_NKEYS_DIR=nkeys

# Desktop NKey file
# Default: desktop.nk
#TALETRAIL_DESKTOP_NKEY_FILE=desktop.nk

# ============================================================================
# Path Configuration
# ============================================================================

# Templates directory path
# Default: nats-cli/templates
#TALETRAIL_TEMPLATES_DIR=nats-cli/templates

# Default trails directory path
# Default: test-trails
#TALETRAIL_TRAILS_DIR=test-trails

# ============================================================================
# MCP Configuration
# ============================================================================

# Default MCP request timeout in milliseconds
# Default: 180000
#TALETRAIL_MCP_TIMEOUT_MS=180000

# Available MCP servers (comma-separated)
# Default: orchestrator,story-generator,quality-control,constraint-enforcer,prompt-helper
#TALETRAIL_MCP_SERVERS=orchestrator,story-generator,quality-control,constraint-enforcer,prompt-helper

# ============================================================================
# Monitoring Configuration
# ============================================================================

# Maximum number of events to buffer in memory
# Default: 1000
#TALETRAIL_MAX_EVENT_BUFFER=1000

# Request cleanup timeout in seconds (1 hour)
# Default: 3600
#TALETRAIL_REQUEST_CLEANUP_TIMEOUT=3600

# ============================================================================
# NATS Subjects Configuration
# ============================================================================

# Base subject for generation events (subscribed by desktop)
# Default: taletrail.generation.events
#TALETRAIL_GENERATION_EVENTS_BASE=taletrail.generation.events

# Tenant-specific generation events pattern (use {tenant_id} placeholder)
# Default: taletrail.generation.events.{tenant_id}
#TALETRAIL_GENERATION_EVENTS_TENANT_PATTERN=taletrail.generation.events.{tenant_id}

# Orchestrator request subject
# Default: mcp.orchestrator.request
#TALETRAIL_ORCHESTRATOR_REQUEST_SUBJECT=mcp.orchestrator.request

# ============================================================================
# MCP Server Request Subjects
# ============================================================================

# Individual MCP server request subjects
#TALETRAIL_MCP_SUBJECT_ORCHESTRATOR=mcp.orchestrator.request
#TALETRAIL_MCP_SUBJECT_STORY_GENERATOR=mcp.story-generator.request
#TALETRAIL_MCP_SUBJECT_QUALITY_CONTROL=mcp.quality-control.request
#TALETRAIL_MCP_SUBJECT_CONSTRAINT_ENFORCER=mcp.constraint-enforcer.request
#TALETRAIL_MCP_SUBJECT_PROMPT_HELPER=mcp.prompt-helper.request

# ============================================================================
# MCP Template Paths Configuration
# ============================================================================

# MCP server template subdirectories (relative to templates_dir)
#TALETRAIL_MCP_TEMPLATES_ORCHESTRATOR=orchestrator
#TALETRAIL_MCP_TEMPLATES_STORY_GENERATOR=story-generator
#TALETRAIL_MCP_TEMPLATES_QUALITY_CONTROL=quality-control
#TALETRAIL_MCP_TEMPLATES_CONSTRAINT_ENFORCER=constraint-enforcer
#TALETRAIL_MCP_TEMPLATES_PROMPT_HELPER=prompt-helper

# Template file extension
# Default: .json
#TALETRAIL_TEMPLATE_FILE_EXTENSION=.json

# ============================================================================
# Validation Configuration
# ============================================================================

# Story structure presets (comma-separated)
# Default: guided,adventure,epic,choose_your_path
#TALETRAIL_VALID_STORY_STRUCTURES=guided,adventure,epic,choose_your_path

# Node count constraints
#TALETRAIL_MIN_NODE_COUNT=5
#TALETRAIL_MAX_NODE_COUNT=50

# Choices per node constraints
#TALETRAIL_DEFAULT_MAX_CHOICES_PER_NODE=4
#TALETRAIL_MIN_CHOICES_PER_NODE=2
#TALETRAIL_MAX_CHOICES_PER_NODE=10

# Story length constraints (characters)
#TALETRAIL_MIN_STORY_LENGTH=100
#TALETRAIL_MAX_STORY_LENGTH=10000

# ============================================================================
# Timeout Configuration
# ============================================================================

# Default request timeout in seconds (3 minutes)
#TALETRAIL_DEFAULT_REQUEST_TIMEOUT_SECS=180

# Minimum allowed timeout in seconds
#TALETRAIL_MIN_REQUEST_TIMEOUT_SECS=30

# Maximum allowed timeout in seconds (5 minutes)
#TALETRAIL_MAX_REQUEST_TIMEOUT_SECS=300

# ============================================================================
# History Management Configuration
# ============================================================================

# Tauri store key for MCP history
#TALETRAIL_HISTORY_STORE_KEY=mcp_history

# Tauri store file name
#TALETRAIL_HISTORY_STORE_FILE=mcp-history.json

# Pagination settings
#TALETRAIL_HISTORY_DEFAULT_PAGE_SIZE=50
#TALETRAIL_HISTORY_MAX_PAGE_SIZE=200
#TALETRAIL_HISTORY_MIN_PAGE_SIZE=10

# ============================================================================
# Development Settings
# ============================================================================

# Enable debug logging
#TALETRAIL_DEBUG=false

# Frontend dev server port
#TALETRAIL_DEV_PORT=3030

# HMR WebSocket port
#TALETRAIL_HMR_PORT=3031

# ============================================================================
# PRODUCTION DEPLOYMENT EXAMPLES
# ============================================================================

# Example 1: Self-Contained Application Bundle
# ----------------------------------------------
# All resources bundled with the application executable.
# Suitable for: macOS .app bundles, Windows portable apps
#
# Uncomment these lines for bundled deployment:
#TALETRAIL_CERTS_DIR=certs
#TALETRAIL_NKEYS_DIR=nkeys
#TALETRAIL_TEMPLATES_DIR=templates
#TALETRAIL_TRAILS_DIR=trails


# Example 2: System-Wide Installation (Linux/Unix)
# -------------------------------------------------
# Resources installed in standard FHS locations.
# Suitable for: Linux distributions, server deployments
#
# Uncomment these lines for system-wide installation:
#TALETRAIL_CERTS_DIR=/etc/taletrail/certs
#TALETRAIL_NKEYS_DIR=/etc/taletrail/nkeys
#TALETRAIL_TEMPLATES_DIR=/usr/share/taletrail/templates
#TALETRAIL_TRAILS_DIR=/var/lib/taletrail/trails


# Example 3: User-Specific Installation (All Platforms)
# ------------------------------------------------------
# Resources in user's home directory.
# Suitable for: Per-user installations, development-like setups
#
# For environment variable expansion, use shell-style paths:
#TALETRAIL_CERTS_DIR=$HOME/.config/taletrail/certs
#TALETRAIL_NKEYS_DIR=$HOME/.config/taletrail/nkeys
#TALETRAIL_TEMPLATES_DIR=$HOME/.local/share/taletrail/templates
#TALETRAIL_TRAILS_DIR=$HOME/.local/share/taletrail/trails


# Example 4: Docker Container Deployment
# ---------------------------------------
# Resources mounted via Docker volumes.
# Suitable for: Containerized deployments
#
# Uncomment these lines for Docker deployment:
#TALETRAIL_CERTS_DIR=/app/certs
#TALETRAIL_NKEYS_DIR=/app/nkeys
#TALETRAIL_TEMPLATES_DIR=/app/templates
#TALETRAIL_TRAILS_DIR=/data/trails
#TALETRAIL_NATS_URL=nats://nats-server:4222
#
# Docker run example:
# docker run -v /host/certs:/app/certs \
#            -v /host/templates:/app/templates \
#            -v /host/trails:/data/trails \
#            --env-file .env \
#            taletrail-desktop


# Example 5: Hybrid Approach (Mixed Paths)
# -----------------------------------------
# System-wide shared resources + user-specific data.
# Suitable for: Enterprise deployments with shared templates
#
# Uncomment these lines for hybrid deployment:
#TALETRAIL_CERTS_DIR=/etc/taletrail/certs
#TALETRAIL_TEMPLATES_DIR=/usr/share/taletrail/templates
#TALETRAIL_TRAILS_DIR=trails


# Example 6: Cloud Deployment (AWS/GCP/Azure)
# --------------------------------------------
# Resources from cloud storage with managed NATS.
# Suitable for: Cloud-native deployments
#
# Uncomment and customize for cloud deployment:
#TALETRAIL_NATS_URL=nats://your-managed-nats.cloud:4222
#TALETRAIL_NATS_TLS_ENABLED=true
#TALETRAIL_CERTS_DIR=/app/certs
#TALETRAIL_TEMPLATES_DIR=/mnt/cloud-storage/templates
#TALETRAIL_TRAILS_DIR=/mnt/cloud-storage/trails


# Example 7: Development with Remote NATS
# ----------------------------------------
# Local development connecting to remote NATS server.
# Suitable for: Team development environments
#
# Uncomment and customize for remote development:
#TALETRAIL_NATS_URL=nats://dev.example.com:4222
#TALETRAIL_NATS_TLS_ENABLED=true
#TALETRAIL_DEBUG=true
