# Story Generator MCP Server Configuration
# All values can be overridden by environment variables with STORY_GENERATOR_ prefix
# Example: STORY_GENERATOR_NATS_URL=nats://production:4222

[service]
name = "story-generator"
version = "0.1.0"
description = "TaleTrail Story Generator MCP Server - Creates DAG structures and generates narrative content"

[nats]
url = "nats://localhost:5222"
subject = "mcp.story.generate"
queue_group = "story-generator"

[nats.auth]
# NKey authentication (replaces mTLS client certificates)
nkey_file = "./nkeys/story-generator.nk"

[nats.tls]
# TLS for encryption (no client cert needed with NKey auth)
ca_cert = "./certs/ca.pem"

[generation]
timeout_secs = 60
batch_size_min = 4
batch_size_max = 6
target_words_per_node = 400

[llm]
url = "http://127.0.0.1:1234"
model_name = "local-model"
max_tokens_per_node = 600
