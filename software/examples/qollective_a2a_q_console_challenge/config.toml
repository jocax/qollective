# Qollective A2A Configuration
# Enterprise USS Enterprise NCC-1701-D Star Trek Example Configuration

[enterprise]
server_id = "enterprise-ncc-1701-d"
server_name = "USS Enterprise NCC-1701-D Central Computer"
ship_registry = "NCC-1701-D"
ship_class = "Galaxy-class"

[enterprise.timeouts]
crew_ttl_secs = 300  # 5 minutes
cleanup_interval_secs = 60  # 1 minute
health_check_interval_secs = 30  # 30 seconds

[enterprise.limits]
max_crew_size = 1000
max_capabilities_per_crew = 100
max_reconnect_attempts = 5

[nats]
# Primary connection configuration
connection_timeout_ms = 30000
reconnect_timeout_ms = 5000
max_reconnect_attempts = 10

[nats.connection]
# URLs with TLS connection to Docker NATS cluster
urls = ["nats://localhost:4443"]
ping_interval_ms = 30000
max_outstanding_pings = 2

[nats.client]
# Client behavior configuration
client_name = "enterprise-agent"
max_pending_bytes = 67108864  # 64MB
max_pending_messages = 65536
enable_reconnect = true
no_echo = false

[nats.discovery]
enabled = true
ttl_ms = 300000  # 5 minutes cache
heartbeat_interval_ms = 30000

[tls]
# TLS/mTLS configuration with smart path resolution
enabled = true
insecure = false
# Paths are resolved using framework's smart TLS path resolution
ca_cert_path = "ca-cert.pem"
cert_path = "client-cert.pem"  
key_path = "client-key.pem"
verification_mode = "mutual_tls"

[a2a_server]
# A2A Server configuration for USS Enterprise

[a2a_server.registry]
agent_ttl_secs = 300  # 5 minutes crew member timeout
cleanup_interval_secs = 60  # 1 minute cleanup cycle
max_agents = 1000  # Maximum crew size
enable_health_monitoring = true
enable_agent_logging = true
enable_capability_indexing = true
max_capabilities_per_agent = 100
logging_agent_capability = "logging"

[a2a_server.subjects]
# NATS subject configuration for Enterprise A2A
prefix = "qollective.agents"
agent_registration = "qollective.agents.register"
agent_deregistration = "qollective.agents.deregister"
agent_discovery = "qollective.agents.discovery"
agent_health = "qollective.agents.health"
agent_capabilities = "qollective.agents.capabilities"
agent_registry_events = "qollective.agents.registry.events"
agent_registry_announce = "qollective.agents.registry.announce"
enterprise_bridge_challenge = "enterprise.bridge.challenge"

[a2a_client]
# Default A2A Client configuration for Enterprise agents
heartbeat_interval_secs = 30
discovery_cache_ttl_secs = 300  # 5 minutes
enable_metrics = true

[a2a_client.retry]
max_retries = 3
initial_delay_ms = 1000
max_delay_ms = 30000
backoff_multiplier = 2.0

[agents]
# Agent-specific configuration

[agents.enterprise]
capabilities = ["server", "registry", "discovery", "health-monitoring"]
location = "Main Bridge - Central Computer"
function = "Starship central computer and agent registry"
service_type = "a2a_server"

[agents.picard]
capabilities = ["command", "decision-making", "crew-coordination", "tactical-analysis"]
location = "Main Bridge - Captain's Chair"
function = "Commanding officer providing leadership and strategic decisions"
service_type = "command"

[agents.spock]
capabilities = ["logic", "science", "risk-assessment", "vulcan-analysis", "scientific-method", "probability-calculation"]
location = "Science Lab - Main Bridge"
function = "Science Officer specializing in logic, scientific analysis, and Vulcan methodologies"
service_type = "logical_analysis"

[agents.scotty]
capabilities = ["engineering", "systems-diagnostics", "technical-solutions", "warp-core-maintenance"]
location = "Engineering Section - Warp Core"
function = "Chief Engineer responsible for ship systems and technical solutions"
service_type = "engineering"

[agents.data]
capabilities = ["data-analysis", "computation", "systems-diagnostics", "android-processing", "information-synthesis"]
location = "Ops Station - Main Bridge"
function = "Operations Officer with advanced computational and analytical capabilities"
service_type = "data_processing"

[agents.q_console]
capabilities = ["omnipotence", "testing-mortals", "cosmic-challenges", "reality-manipulation"]
location = "Continuum"
function = "Omnipotent entity for testing and challenging the Enterprise crew"
service_type = "cosmic_testing"

[agents.log_agent]
capabilities = ["logging", "event-recording", "data-archival", "performance-monitoring", "audit-trail"]
location = "Computer Core - Logging Bay"  
function = "Enterprise logging service for comprehensive event recording and performance monitoring"
service_type = "logging"

[logging]
level = "info"
format = "pretty"
show_timestamps = true
enable_detailed_logging = true
enable_performance_metrics = true

[monitoring]
enable_health_checks = true
enable_registry_monitoring = true
enable_connection_monitoring = true
enable_performance_metrics = true
metrics_interval_secs = 60